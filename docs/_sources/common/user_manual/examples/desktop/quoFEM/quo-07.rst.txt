Conventional Calibration - Steel Frame
======================================

In this example, a parameter estimation routine is used to estimate column stiffnesses of a simple steel frame, given data about it’s mode shapes and mass distribution.

Provided by Professor Joel Conte and his doctoral students Maitreya Kurumbhati and Mukesh Ramancha from UC San Diego, this example looks at the following simplified finite element model of a steel building.

| |image0|

Each floor slab of the building is made of composite metal deck and is supported on four steel columns. The story heights are measured at :math:`10'` and in plan the side lengths measure :math:`33'-4"` by :math:`30'`. Properties of the steel columns are taken deterministically with an elastic modulus of :math:`29,000 \mathrm{ksi}`, area of :math:`110 \mathrm{in}^2`, and principal moment of inertial (:math:`I_{xx}`) of :math:`1190 \mathrm{in}^4`. For modelling purposes, the four columns are assumed fixed at the base and the beams connecting them are assumed to be rigid. The first two vibration periods of the structure are determined to be :math:`0.19 sec` and :math:`0.09 sec`.

Using these properties, the following set of mode shapes and frequencies are generated by applying random perturbations to the analytic modal properties in order to simulate field data that might be obtained using a method for structural system identification.

.. math::

   \begin{array}{l}
   \lambda_{1}^{(1)}=1025.21, \lambda_{1}^{(2)}=1138.11, \quad \lambda_{1}^{(3)}=1099.39, \quad \lambda_{1}^{(4)}=1002.41, \quad \lambda_{1}^{(5)}=1052.69 \\
   \phi_{12}^{(1)}=1.53, \quad \phi_{12}^{(2)}=1.24, \quad \phi_{12}^{(3)}=1.38, \quad \phi_{12}^{(4)}=1.50, \quad \phi_{12}^{(5)}=1.35
   \end{array}

Our goal will be to reobtain the original column moments of inertias from this data using a conventional calibration procedure.

The unknown quantities of interest are the moments of inertias for the first and second story columns (``Ic1`` and ``Ic2`` respectively). Using the following bounds and initial estimates, these parameters are defined as follows in the **RV** tab of quoFEM:

UQ Workflow
-----------

To define the uncertainty workflow in quoFEM, select **Parameters Estimation** for the **Dakota Method Category**, and enter the following inputs:

====================== ======
**Convergence Tol**    1e-10
**Scaling Factors**    
**Max No. Iterations** 50
**Method**             NL2SOL
====================== ======

Model Files
-----------

The following files make up the **FEM** model definition.

#. ``frame/fem.tcl``: This file is an OpenSees Tcl script that defines a FE model for a given realization, runs an analysis, and creates a ``results.out`` fils. As a consequence, no postprocessing script is needed. The values placed in ``results.out`` file are the difference between computed and observed values. Expressed another way, the function ``f(m1,m2)`` computed and written to the ``results.out`` file is ``f(m1,m2) = ObservedPeriods - ComputedPeriods(m1,m2)``. The UQ algorithm when running is searching for values of the random variable parameters (``m1`` and ``m2``) that minimize this loss function. The user must take this fact into account when formulating the output from their own scripts for their own problems.

.. warning::

Do not place the files in your root, downloads, or desktop folder as when the application runs it will copy the contents on the directories and subdirectories containing these files multiple times. If you are like us, your root, Downloads or Documents folders contains and awful lot of files and when the backend workflow runs you will slowly find you will run out of disk space!

Results
-------

Once the analysis is complete the **RES** tab will be automatically selected and the results will be displayed as shown in the figure below.

Our estimates for the column stiffnesses, ``Ic1`` and ``Ic2`` are **1168.83** and **1211.25** respectively.

.. |image0| image:: frame/frameFE.png
